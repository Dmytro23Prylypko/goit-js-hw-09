{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst formData = { email: '', message: '' };\nconst storageFormKey = 'feedback-form-state';\n\nconst storageItem = window.localStorage.getItem(storageFormKey);\nif (storageItem !== null) {\n  form.elements.email.value = JSON.parse(storageItem).email ?? '';\n  form.elements.message.value = JSON.parse(storageItem).message ?? '';\n}\n\nfunction handleInput(event) {\n  let response = localStorage.getItem(storageFormKey);\n  let formData;\n  if (response) {\n    formData = JSON.parse(response);\n  } else {\n    formData = {};\n  }\n  if (event.target.name === 'email') {\n    formData.email = event.target.value;\n  } else if (event.target.name === 'message') {\n    formData.message = event.target.value;\n  }\n  localStorage.setItem(storageFormKey, JSON.stringify(formData));\n}\n\nform.addEventListener('input', handleInput);\n\nfunction handleForm(event) {\n  event.preventDefault();\n  if (\n    event.currentTarget.elements.email.value === '' ||\n    event.currentTarget.elements.message.value === ''\n  ) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  formData.email = event.currentTarget.elements.email.value;\n  formData.message = event.currentTarget.elements.message.value;\n  console.log(formData);\n  window.localStorage.clear();\n  event.currentTarget.reset();\n  formData.email = '';\n  formData.message = '';\n}\n\nform.addEventListener('submit', handleForm);\n"],"names":["form","formData","storageFormKey","storageItem","handleInput","event","response","handleForm"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAiB,sBAEjBC,EAAc,OAAO,aAAa,QAAQD,CAAc,EAC1DC,IAAgB,OAClBH,EAAK,SAAS,MAAM,MAAQ,KAAK,MAAMG,CAAW,EAAE,OAAS,GAC7DH,EAAK,SAAS,QAAQ,MAAQ,KAAK,MAAMG,CAAW,EAAE,SAAW,IAGnE,SAASC,EAAYC,EAAO,CAC1B,IAAIC,EAAW,aAAa,QAAQJ,CAAc,EAC9CD,EACAK,EACFL,EAAW,KAAK,MAAMK,CAAQ,EAE9BL,EAAW,CAAA,EAETI,EAAM,OAAO,OAAS,QACxBJ,EAAS,MAAQI,EAAM,OAAO,MACrBA,EAAM,OAAO,OAAS,YAC/BJ,EAAS,QAAUI,EAAM,OAAO,OAElC,aAAa,QAAQH,EAAgB,KAAK,UAAUD,CAAQ,CAAC,CAC/D,CAEAD,EAAK,iBAAiB,QAASI,CAAW,EAE1C,SAASG,EAAWF,EAAO,CAEzB,GADAA,EAAM,eAAc,EAElBA,EAAM,cAAc,SAAS,MAAM,QAAU,IAC7CA,EAAM,cAAc,SAAS,QAAQ,QAAU,GAC/C,CACA,MAAM,wBAAwB,EAC9B,MACD,CAEDJ,EAAS,MAAQI,EAAM,cAAc,SAAS,MAAM,MACpDJ,EAAS,QAAUI,EAAM,cAAc,SAAS,QAAQ,MACxD,QAAQ,IAAIJ,CAAQ,EACpB,OAAO,aAAa,QACpBI,EAAM,cAAc,QACpBJ,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAEAD,EAAK,iBAAiB,SAAUO,CAAU"}